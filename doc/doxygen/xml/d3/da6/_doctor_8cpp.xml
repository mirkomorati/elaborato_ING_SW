<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd"
         version="1.8.13">
    <compounddef id="d3/da6/_doctor_8cpp" kind="file" language="C++">
        <compoundname>Doctor.cpp</compoundname>
        <includes local="no">iostream</includes>
        <includes refid="dd/dc5/_doctor_8hpp" local="yes">Doctor.hpp</includes>
        <includes refid="d7/d0f/_d_b_master_8hpp" local="yes">../DBMaster.hpp</includes>
        <incdepgraph>
            <node id="655">
                <label>Prescription.hpp</label>
                <link refid="de/d01/_prescription_8hpp"/>
                <childnode refid="654" relation="include">
                </childnode>
                <childnode refid="653" relation="include">
                </childnode>
                <childnode refid="656" relation="include">
                </childnode>
                <childnode refid="657" relation="include">
                </childnode>
                <childnode refid="658" relation="include">
                </childnode>
                <childnode refid="659" relation="include">
                </childnode>
            </node>
            <node id="658">
                <label>../interfaces/ISerializable.hpp</label>
                <link refid="d3/d1b/_i_serializable_8hpp"/>
                <childnode refid="653" relation="include">
                </childnode>
                <childnode refid="656" relation="include">
                </childnode>
            </node>
            <node id="652">
                <label>Doctor.hpp</label>
                <link refid="dd/dc5/_doctor_8hpp"/>
                <childnode refid="653" relation="include">
                </childnode>
                <childnode refid="654" relation="include">
                </childnode>
                <childnode refid="655" relation="include">
                </childnode>
                <childnode refid="660" relation="include">
                </childnode>
                <childnode refid="659" relation="include">
                </childnode>
                <childnode refid="661" relation="include">
                </childnode>
                <childnode refid="662" relation="include">
                </childnode>
            </node>
            <node id="665">
                <label>stdexcept</label>
            </node>
            <node id="653">
                <label>string</label>
            </node>
            <node id="656">
                <label>map</label>
            </node>
            <node id="664">
                <label>sqlite3.h</label>
            </node>
            <node id="657">
                <label>gtkmm/treemodelcolumn.h</label>
            </node>
            <node id="654">
                <label>vector</label>
            </node>
            <node id="660">
                <label>Patient.hpp</label>
                <link refid="d0/da9/_patient_8hpp"/>
                <childnode refid="654" relation="include">
                </childnode>
                <childnode refid="653" relation="include">
                </childnode>
                <childnode refid="657" relation="include">
                </childnode>
                <childnode refid="658" relation="include">
                </childnode>
                <childnode refid="655" relation="include">
                </childnode>
            </node>
            <node id="662">
                <label>../utils/Time.hpp</label>
                <link refid="d8/d3a/_time_8hpp"/>
            </node>
            <node id="661">
                <label>../utils/Date.hpp</label>
                <link refid="d8/d63/_date_8hpp"/>
                <childnode refid="651" relation="include">
                </childnode>
            </node>
            <node id="651">
                <label>iostream</label>
            </node>
            <node id="663">
                <label>../DBMaster.hpp</label>
                <link refid="d7/d0f/_d_b_master_8hpp"/>
                <childnode refid="664" relation="include">
                </childnode>
                <childnode refid="653" relation="include">
                </childnode>
                <childnode refid="665" relation="include">
                </childnode>
                <childnode refid="654" relation="include">
                </childnode>
                <childnode refid="658" relation="include">
                </childnode>
            </node>
            <node id="659">
                <label>Drug.hpp</label>
                <link refid="dd/df9/_drug_8hpp"/>
                <childnode refid="653" relation="include">
                </childnode>
                <childnode refid="654" relation="include">
                </childnode>
                <childnode refid="656" relation="include">
                </childnode>
                <childnode refid="657" relation="include">
                </childnode>
                <childnode refid="658" relation="include">
                </childnode>
            </node>
            <node id="650">
                <label>code/model/Doctor.cpp</label>
                <link refid="d3/da6/_doctor_8cpp"/>
                <childnode refid="651" relation="include">
                </childnode>
                <childnode refid="652" relation="include">
                </childnode>
                <childnode refid="663" relation="include">
                </childnode>
            </node>
        </incdepgraph>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <programlisting>
            <codeline lineno="1"></codeline>
            <codeline lineno="7">
                <highlight class="preprocessor">#include<sp/>&lt;iostream&gt;
                </highlight>
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="8">
                <highlight class="normal"></highlight>
                <highlight class="preprocessor">#include<sp/>&quot;<ref refid="dd/dc5/_doctor_8hpp" kindref="compound">
                    Doctor.hpp</ref>&quot;
                </highlight>
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="9">
                <highlight class="normal"></highlight>
                <highlight class="preprocessor">#include<sp/>&quot;../DBMaster.hpp&quot;
                </highlight>
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="10">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="11">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="12">
                <highlight class="normal">map&lt;string,<sp/>mm::Serialized&gt;<sp/>
                    <ref refid="d6/d2e/classmm_1_1model_1_1_doctor_1a2171a9cb9c8a24ad0c0331edae957910" kindref="member">
                        mm::model::Doctor::serialize</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="13">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>map&lt;string,<sp/>mm::Serialized&gt;<sp/>serialized;
                </highlight>
            </codeline>
            <codeline lineno="14">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>serialized[
                </highlight>
                <highlight class="stringliteral">&quot;regional_id&quot;</highlight>
                <highlight class="normal">]<sp/>=<sp/>regional_id;
                </highlight>
            </codeline>
            <codeline lineno="15">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>serialized[
                </highlight>
                <highlight class="stringliteral">&quot;fiscal_code&quot;</highlight>
                <highlight class="normal">]<sp/>=<sp/>fiscal_code;
                </highlight>
            </codeline>
            <codeline lineno="16">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>serialized[
                </highlight>
                <highlight class="stringliteral">&quot;first_name&quot;</highlight>
                <highlight class="normal">]<sp/>=<sp/>first_name;
                </highlight>
            </codeline>
            <codeline lineno="17">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>serialized[
                </highlight>
                <highlight class="stringliteral">&quot;last_name&quot;</highlight>
                <highlight class="normal">]<sp/>=<sp/>last_name;
                </highlight>
            </codeline>
            <codeline lineno="18">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>serialized[
                </highlight>
                <highlight class="stringliteral">&quot;fiscal_code&quot;</highlight>
                <highlight class="normal">]<sp/>=<sp/>fiscal_code;
                </highlight>
            </codeline>
            <codeline lineno="19">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>serialized[
                </highlight>
                <highlight class="stringliteral">&quot;birth_place&quot;</highlight>
                <highlight class="normal">]<sp/>=<sp/>birth_place;
                </highlight>
            </codeline>
            <codeline lineno="20">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>serialized[
                </highlight>
                <highlight class="stringliteral">&quot;birth_place&quot;</highlight>
                <highlight class="normal">]<sp/>=<sp/>birth_place;
                </highlight>
            </codeline>
            <codeline lineno="21">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="22">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>serialized;
                </highlight>
            </codeline>
            <codeline lineno="23">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="24">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="25">
                <highlight class="normal"></highlight>
                <highlight class="keywordtype">void</highlight>
                <highlight class="normal">
                    <sp/>
                    <ref refid="d6/d2e/classmm_1_1model_1_1_doctor_1a20bedf6695024e1930d033995a2ec5bf" kindref="member">
                        mm::model::Doctor::unserialize</ref>(map&lt;string,<sp/>mm::Serialized&gt;<sp/>map)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="26">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>regional_id<sp/>=<sp/>map[
                </highlight>
                <highlight class="stringliteral">&quot;regional_id&quot;</highlight>
                <highlight class="normal">].get_int();</highlight>
            </codeline>
            <codeline lineno="27">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>fiscal_code<sp/>=<sp/>map[
                </highlight>
                <highlight class="stringliteral">&quot;fiscal_code&quot;</highlight>
                <highlight class="normal">].get_str();</highlight>
            </codeline>
            <codeline lineno="28">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>specialization<sp/>=<sp/>map[
                </highlight>
                <highlight class="stringliteral">&quot;specialization&quot;</highlight>
                <highlight class="normal">].get_str();</highlight>
            </codeline>
            <codeline lineno="29">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>first_name<sp/>=<sp/>map[
                </highlight>
                <highlight class="stringliteral">&quot;first_name&quot;</highlight>
                <highlight class="normal">].get_str();</highlight>
            </codeline>
            <codeline lineno="30">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>last_name<sp/>=<sp/>map[
                </highlight>
                <highlight class="stringliteral">&quot;last_name&quot;</highlight>
                <highlight class="normal">].get_str();</highlight>
            </codeline>
            <codeline lineno="31">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>fiscal_code<sp/>=<sp/>map[
                </highlight>
                <highlight class="stringliteral">&quot;fiscal_code&quot;</highlight>
                <highlight class="normal">].get_str();</highlight>
            </codeline>
            <codeline lineno="32">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>birth_place<sp/>=<sp/>map[
                </highlight>
                <highlight class="stringliteral">&quot;birth_place&quot;</highlight>
                <highlight class="normal">].get_str();</highlight>
            </codeline>
            <codeline lineno="33">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>birth_place<sp/>=<sp/>map[
                </highlight>
                <highlight class="stringliteral">&quot;birth_place&quot;</highlight>
                <highlight class="normal">].get_str();</highlight>
            </codeline>
            <codeline lineno="34">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>get_patients_from_db();
                </highlight>
            </codeline>
            <codeline lineno="35">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="36">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="37">
                <highlight class="normal"></highlight>
                <highlight class="keywordtype">string</highlight>
                <highlight class="normal">
                    <sp/>
                    <ref refid="d6/d2e/classmm_1_1model_1_1_doctor_1af4c37e48f9e5ff26f2295678f10afaa3" kindref="member">
                        mm::model::Doctor::get_table_name</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="38">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal">
                    <sp/>
                </highlight>
                <highlight class="stringliteral">&quot;doctors&quot;</highlight>
                <highlight class="normal">;</highlight>
            </codeline>
            <codeline lineno="39">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="40">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="41">
                <highlight class="normal">vector&lt;string&gt;<sp/>
                    <ref refid="d6/d2e/classmm_1_1model_1_1_doctor_1a935989cbe2274076c2b409126d4faccd" kindref="member">
                        mm::model::Doctor::get_primary_key</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="42">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>{
                </highlight>
                <highlight class="stringliteral">&quot;regional_id&quot;</highlight>
                <highlight class="normal">};</highlight>
            </codeline>
            <codeline lineno="43">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="44">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="45">
                <highlight class="normal">vector&lt;mm::model::Prescription&gt;</highlight>
            </codeline>
            <codeline lineno="46">
                <highlight class="normal"><ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1a16be876e8591688f3b34ca86441253a2" kindref="member">
                    mm::model::Doctor::get_prescriptions</ref>(
                    <ref refid="d6/d4a/classmm_1_1model_1_1_patient" kindref="compound">mm::model::Patient</ref>
                    <sp/>patient,
                    <sp/>
                    <ref refid="df/d88/structmm_1_1util_1_1_date" kindref="compound">mm::util::Date</ref>
                    <sp/>start,
                </highlight>
            </codeline>
            <codeline lineno="47">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <ref refid="df/d88/structmm_1_1util_1_1_date" kindref="compound">mm::util::Date</ref>
                    <sp/>end)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="48">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="49">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">if</highlight>
                <highlight class="normal"><sp/>(std::find(patients.begin(),<sp/>patients.end(),<sp/>patient)<sp/>==
                    <sp/>
                    patients.end())<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="50">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">throw</highlight>
                <highlight class="normal"><sp/>std::invalid_argument(
                </highlight>
                <highlight class="stringliteral">&quot;the<sp/>patients<sp/>does<sp/>not<sp/>belong<sp/>to<sp/>the
                    <sp/>
                    doctor&quot;
                </highlight>
                <highlight class="normal">);</highlight>
            </codeline>
            <codeline lineno="51">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>}
                </highlight>
            </codeline>
            <codeline lineno="52">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="53">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>vector&lt;Prescription&gt;<sp/>to_ret;
                </highlight>
            </codeline>
            <codeline lineno="54">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">for</highlight>
                <highlight class="normal"><sp/>(
                </highlight>
                <highlight class="keyword">auto</highlight>
                <highlight class="normal"><sp/>&amp;pr<sp/>:<sp/>patient.<ref
                        refid="d6/d4a/classmm_1_1model_1_1_patient_1a2a33032170e0cadf905dd263a3364b65" kindref="member">
                    get_prescriptions</ref>())<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="55">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <ref refid="df/d88/structmm_1_1util_1_1_date" kindref="compound">mm::util::Date</ref>
                    <sp/>tmp_date;
                </highlight>
            </codeline>
            <codeline lineno="56">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>tmp_date.<ref refid="df/d88/structmm_1_1util_1_1_date_1a9140b9c53f02f7385af15684c81c5ed0"
                                       kindref="member">set_from_str</ref>(pr.get_issue_date());
                </highlight>
            </codeline>
            <codeline lineno="57">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">if</highlight>
                <highlight class="normal"><sp/>(tmp_date<sp/>&gt;=<sp/>start<sp/>and<sp/>tmp_date<sp/>&lt;=<sp/>end)
                    <sp/>{
                </highlight>
            </codeline>
            <codeline lineno="58">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>to_ret.push_back(pr);
                </highlight>
            </codeline>
            <codeline lineno="59">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>}
                </highlight>
            </codeline>
            <codeline lineno="60">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>}
                </highlight>
            </codeline>
            <codeline lineno="61">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="62">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>to_ret;
                </highlight>
            </codeline>
            <codeline lineno="63">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="64">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="65">
                <highlight class="normal">vector&lt;mm::model::Prescription&gt;</highlight>
            </codeline>
            <codeline lineno="66">
                <highlight class="normal"><ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1a16be876e8591688f3b34ca86441253a2" kindref="member">
                    mm::model::Doctor::get_prescriptions</ref>(
                    <ref refid="db/d9b/classmm_1_1model_1_1_drug" kindref="compound">mm::model::Drug</ref>
                    <sp/>drug)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="67">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>vector&lt;Prescription&gt;<sp/>to_ret;
                </highlight>
            </codeline>
            <codeline lineno="68">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="69">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="comment">//<sp/>todo<sp/>aggiungere<sp/>un<sp/>operatore<sp/>di<sp/>uguaglianza<sp/>a
                    <sp/>Drug<sp/>per<sp/>poterli<sp/>confrontare.
                </highlight>
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="70">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="comment">//<sp/>N.B.<sp/>qui<sp/>Ã¨<sp/>necessario<sp/>un<sp/>accesso<sp/>al<sp/>db.
                </highlight>
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="71">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>to_ret;
                </highlight>
            </codeline>
            <codeline lineno="72">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="73">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="74">
                <highlight class="normal">vector&lt;mm::model::Drug&gt;</highlight>
            </codeline>
            <codeline lineno="75">
                <highlight class="normal"><ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1ace64e6e74d0e39244c349fe5570ff974" kindref="member">
                    mm::model::Doctor::get_drugs</ref>(
                    <ref refid="df/d88/structmm_1_1util_1_1_date" kindref="compound">mm::util::Date</ref>
                    <sp/>start,
                    <sp/>
                    <ref refid="df/d88/structmm_1_1util_1_1_date" kindref="compound">mm::util::Date</ref>
                    <sp/>end)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="76">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>vector&lt;mm::model::Drug&gt;();
                </highlight>
            </codeline>
            <codeline lineno="77">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="78">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="79">
                <highlight class="normal"></highlight>
                <highlight class="keywordtype">void</highlight>
                <highlight class="normal"><sp/>mm::model::Doctor::get_patients_from_db()<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="80">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keyword">auto</highlight>
                <highlight class="normal"><sp/>rows<sp/>=
                    <sp/>
                    <ref refid="da/d0d/classmm_1_1_d_b_master_1a1f3b04e515b1999d3900353c0054f498" kindref="member">
                        DBMaster::get_instance</ref>().<ref
                            refid="da/d0d/classmm_1_1_d_b_master_1aef9d7063da9d7b4e0fb0a20a6d06368f" kindref="member">
                        get_rows</ref>(
                </highlight>
                <highlight class="stringliteral">&quot;patients&quot;</highlight>
                <highlight class="normal">,
                    <sp/>
                </highlight>
                <highlight class="stringliteral">&quot;doctor_id&quot;</highlight>
                <highlight class="normal">,<sp/>regional_id);
                </highlight>
            </codeline>
            <codeline lineno="81">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="82">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">for</highlight>
                <highlight class="normal"><sp/>(
                </highlight>
                <highlight class="keyword">auto</highlight>
                <highlight class="normal"><sp/>&amp;row<sp/>:<sp/>rows)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="83">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>Patient<sp/>tmp;
                </highlight>
            </codeline>
            <codeline lineno="84">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>tmp.unserialize(row);
                </highlight>
            </codeline>
            <codeline lineno="85">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>patients.push_back(tmp);
                </highlight>
            </codeline>
            <codeline lineno="86">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>}
                </highlight>
            </codeline>
            <codeline lineno="87">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="88">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="89">
                <highlight class="normal">vector&lt;mm::model::Patient&gt;</highlight>
            </codeline>
            <codeline lineno="90">
                <highlight class="normal"><ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1a8b761c1dfbe10348eb99c0397e811e0a" kindref="member">
                    mm::model::Doctor::get_patients</ref>(
                    <ref refid="db/d9b/classmm_1_1model_1_1_drug" kindref="compound">mm::model::Drug</ref>
                    <sp/>drug)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="91">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>vector&lt;mm::model::Patient&gt;();
                </highlight>
            </codeline>
            <codeline lineno="92">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="93">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="94">
                <highlight class="normal"></highlight>
                <highlight class="keyword">const</highlight>
                <highlight class="normal">
                    <sp/>
                </highlight>
                <highlight class="keywordtype">string</highlight>
                <highlight class="normal"><sp/>&amp;<ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1ad49c6f0fdc31a96edaeada72ba88ceec" kindref="member">
                    mm::model::Doctor::get_fiscal_code</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="95">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>fiscal_code;
                </highlight>
            </codeline>
            <codeline lineno="96">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="97">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="98">
                <highlight class="normal"></highlight>
                <highlight class="keyword">const</highlight>
                <highlight class="normal">
                    <sp/>
                </highlight>
                <highlight class="keywordtype">int</highlight>
                <highlight class="normal"><sp/>&amp;<ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1a26810a7e1e0682d2dbb7c92ac3a8247b" kindref="member">
                    mm::model::Doctor::get_regional_id</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="99">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>regional_id;
                </highlight>
            </codeline>
            <codeline lineno="100">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="101">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="102">
                <highlight class="normal"></highlight>
                <highlight class="keyword">const</highlight>
                <highlight class="normal">
                    <sp/>
                </highlight>
                <highlight class="keywordtype">string</highlight>
                <highlight class="normal"><sp/>&amp;<ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1ab5b807b5ce91d9f20603f091e62fe17a" kindref="member">
                    mm::model::Doctor::get_specialization</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="103">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>specialization;
                </highlight>
            </codeline>
            <codeline lineno="104">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="105">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="106">
                <highlight class="normal">vector&lt;mm::model::Patient&gt;<sp/>&amp;<ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1a8b761c1dfbe10348eb99c0397e811e0a" kindref="member">
                    mm::model::Doctor::get_patients</ref>()<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="107">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>patients;
                </highlight>
            </codeline>
            <codeline lineno="108">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="109">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="110">
                <highlight class="normal"></highlight>
                <highlight class="keyword">const</highlight>
                <highlight class="normal">
                    <sp/>
                </highlight>
                <highlight class="keywordtype">string</highlight>
                <highlight class="normal"><sp/>&amp;<ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1ac33c8e6a13054d0c7aea1cf6aec4368f" kindref="member">
                    mm::model::Doctor::get_first_name</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="111">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>first_name;
                </highlight>
            </codeline>
            <codeline lineno="112">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="113">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="114">
                <highlight class="normal"></highlight>
                <highlight class="keyword">const</highlight>
                <highlight class="normal">
                    <sp/>
                </highlight>
                <highlight class="keywordtype">string</highlight>
                <highlight class="normal"><sp/>&amp;<ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1a86a186641c22223ecb9951112befa3e9" kindref="member">
                    mm::model::Doctor::get_last_name</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="115">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>last_name;
                </highlight>
            </codeline>
            <codeline lineno="116">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="117">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="118">
                <highlight class="normal"></highlight>
                <highlight class="keyword">const</highlight>
                <highlight class="normal">
                    <sp/>
                </highlight>
                <highlight class="keywordtype">string</highlight>
                <highlight class="normal"><sp/>&amp;<ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1afa648dfa2f37c1de94a742bd58682899" kindref="member">
                    mm::model::Doctor::get_birth_date</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="119">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>birth_date;
                </highlight>
            </codeline>
            <codeline lineno="120">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="121">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="122">
                <highlight class="normal"></highlight>
                <highlight class="keyword">const</highlight>
                <highlight class="normal">
                    <sp/>
                </highlight>
                <highlight class="keywordtype">string</highlight>
                <highlight class="normal"><sp/>&amp;<ref
                        refid="d6/d2e/classmm_1_1model_1_1_doctor_1a14283e664d8689ad296e46969c129cad" kindref="member">
                    mm::model::Doctor::get_birth_place</ref>()
                </highlight>
                <highlight class="keyword"><sp/>const
                    <sp/>
                </highlight>
                <highlight class="normal">{</highlight>
            </codeline>
            <codeline lineno="123">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>birth_place;
                </highlight>
            </codeline>
            <codeline lineno="124">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="125">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="126">
                <highlight class="normal"></highlight>
                <highlight class="keywordtype">void</highlight>
                <highlight class="normal">
                    <sp/>
                    <ref refid="d6/d2e/classmm_1_1model_1_1_doctor_1a1fe35e39d290992a5f6f4a73d4fa8d50" kindref="member">
                        mm::model::Doctor::remove_patient</ref>(
                </highlight>
                <highlight class="keyword">const</highlight>
                <highlight class="normal">
                    <sp/>
                    <ref refid="d6/d4a/classmm_1_1model_1_1_patient" kindref="compound">mm::model::Patient</ref>
                    <sp/>&amp;patient)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="127">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>std::vector&lt;model::Patient&gt;::iterator<sp/>it;
                </highlight>
            </codeline>
            <codeline lineno="128">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">if</highlight>
                <highlight class="normal"><sp/>((it<sp/>=<sp/>std::find(patients.begin(),<sp/>patients.end(),
                    <sp/>
                    patient))<sp/>==<sp/>patients.end())<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="129">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">throw</highlight>
                <highlight class="normal"><sp/>std::runtime_error(
                </highlight>
                <highlight class="stringliteral">&quot;Unknown<sp/>patient&quot;
                </highlight>
                <highlight class="normal">);</highlight>
            </codeline>
            <codeline lineno="130">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>}
                </highlight>
            </codeline>
            <codeline lineno="131">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="132">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">try</highlight>
                <highlight class="normal"><sp/>{
                </highlight>
            </codeline>
            <codeline lineno="133">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <ref refid="da/d0d/classmm_1_1_d_b_master_1a1f3b04e515b1999d3900353c0054f498" kindref="member">
                        DBMaster::get_instance</ref>().<ref
                        refid="da/d0d/classmm_1_1_d_b_master_1a4d5d51bf4b3437294a52fcd3747520d3" kindref="member">
                    remove_from_db</ref>(patient);
                </highlight>
            </codeline>
            <codeline lineno="134">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>}
                    <sp/>
                </highlight>
                <highlight class="keywordflow">catch</highlight>
                <highlight class="normal"><sp/>(std::runtime_error<sp/>&amp;e)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="135">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>cerr<sp/>&lt;&lt;<sp/>
                </highlight>
                <highlight class="stringliteral">&quot;cannot<sp/>remove<sp/>patient.<sp/>DataBase<sp/>error:&quot;
                </highlight>
                <highlight class="normal"><sp/>&lt;&lt;<sp/>e.what();
                </highlight>
            </codeline>
            <codeline lineno="136">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>}
                </highlight>
            </codeline>
            <codeline lineno="137">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="138">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>patients.erase(it);
                </highlight>
            </codeline>
            <codeline lineno="139">
                <highlight class="normal">}</highlight>
            </codeline>
            <codeline lineno="140">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="141">
                <highlight class="normal">
                    <ref refid="d6/d4a/classmm_1_1model_1_1_patient" kindref="compound">mm::model::Patient</ref>
                    <sp/>
                    <ref refid="d6/d2e/classmm_1_1model_1_1_doctor_1a89aa97cb00bfa2352c2a4f276554e738" kindref="member">
                        mm::model::Doctor::get_patient_from_fiscal_code</ref>(std::string<sp/>fiscal_code)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="142">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">for</highlight>
                <highlight class="normal"><sp/>(
                </highlight>
                <highlight class="keyword">auto</highlight>
                <highlight class="normal"><sp/>&amp;p<sp/>:<sp/>patients)<sp/>{
                </highlight>
            </codeline>
            <codeline lineno="143">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">if</highlight>
                <highlight class="normal"><sp/>(p.get_fiscal_code()<sp/>==<sp/>fiscal_code)
                </highlight>
            </codeline>
            <codeline lineno="144">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">return</highlight>
                <highlight class="normal"><sp/>p;
                </highlight>
            </codeline>
            <codeline lineno="145">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>}
                </highlight>
            </codeline>
            <codeline lineno="146">
                <highlight class="normal"></highlight>
            </codeline>
            <codeline lineno="147">
                <highlight class="normal">
                    <sp/>
                    <sp/>
                    <sp/>
                    <sp/>
                </highlight>
                <highlight class="keywordflow">throw</highlight>
                <highlight class="normal"><sp/>std::runtime_error(
                </highlight>
                <highlight class="stringliteral">&quot;patient<sp/>not<sp/>found&quot;
                </highlight>
                <highlight class="normal">);</highlight>
            </codeline>
            <codeline lineno="148">
                <highlight class="normal">}</highlight>
            </codeline>
        </programlisting>
        <location file="code/model/Doctor.cpp"/>
    </compounddef>
</doxygen>
